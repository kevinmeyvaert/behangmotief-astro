---
import type { GridLayoutProps } from '@/types/components';

interface Props extends GridLayoutProps {
  className?: string;
}

const { 
  columns = { mobile: 1, tablet: 2, desktop: 3 },
  gap = '1.5rem',
  className = ''
} = Astro.props;
---

<style define:vars={{ gap, mobileColumns: columns.mobile, tabletColumns: columns.tablet, desktopColumns: columns.desktop }}>
  .masonry-grid {
    column-count: var(--mobileColumns);
    column-gap: var(--gap);
  }
  
  @media (min-width: 768px) {
    .masonry-grid {
      column-count: var(--tabletColumns);
    }
  }
  
  @media (min-width: 1024px) {
    .masonry-grid {
      column-count: var(--desktopColumns);
    }
  }
  
  .masonry-grid :global(.masonry-item) {
    break-inside: avoid;
    margin-bottom: var(--gap);
    display: block;
  }
</style>

<div class={`masonry-grid ${className}`}>
  <slot />
</div>